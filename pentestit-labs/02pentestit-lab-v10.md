# Introduction + Network

introduction to a pentration testing lab

**What it's about:**

A walkthrough of the initial phase of a "Grey Box" penetration test conducted on a virtual lab environment called "Pentestit Lab v10." We documenting the process of attacking the lab, starting with the network gateway (GW machine), with the ultimate goal of compromising the entire network, including the Domain Controller. We focused on:

1.  **Fingerprinting:** Identifying open services and a potential operating system on the gateway machine.
2.  **Intelligence Gathering:** Scrutinizing web pages hosted on the gateway to find usernames and email address formats.
3.  **Brute Forcing:** Using discovered usernames to guess passwords for the SMTP (email) service.
4.  **Initial Compromise & Discovery:** Successfully logging into an email account and finding the first "token" (a flag in capture-the-flag style challenges) and further internal network information.

**What we have learned:**

Both from an offensive (attacker) and defensive (security professional) perspective:

1.  **Structured Methodology is Key:** Following a standard like the Penetration Testing Execution Standard (PTES). This highlights the importance of a methodical, repeatable process rather than random attacks.
2.  **Information Gathering is Paramount:** A significant portion of the effort is dedicated to reconnaissance (fingerprinting, web enumeration). Attackers spend a lot of time learning about their target before launching exploits. Leaked information (like usernames in HTML comments or on "Contact Us" pages) is gold.
3.  **Common Services are Common Targets:** Services like SMTP, SSH, and web servers (HTTP/HTTPS) are frequent targets because they are often exposed and can have vulnerabilities or weak configurations.
4.  **Weak Credentials Remain a Huge Risk:** Successful brute-force attack hinged on a weak password ("justdoit"). This underscores the critical need for strong, unique passwords and, ideally, Multi-Factor Authentication (MFA).
5.  **Even "Secure" Looking Systems Can Have Flaws:** The target is a "Global Data Security" company's lab, yet basic mistakes (like a developer comment leaking a name) were found. No system is impenetrable.
6.  **Initial Footholds Lead to Deeper Access:** Gaining access to one user's email immediately provided more internal network details and the first token, demonstrating how one compromise can snowball.
7.  **Tools of the Trade:** We see practical use of common penetration testing tools like Nmap (for scanning) and Hydra (for brute-forcing).
8.  **The Importance of "Pivoting":** Information gained will be used to "pivot from machine to machine." This is a core concept in penetration testing where access to one system is leveraged to attack others.
9.  **Defensive Implications:**
    *   **Minimize Information Leakage:** Don't leave sensitive information in website source code, and be mindful of what's publicly displayed.
    *   **Strong Authentication & Authorization:** Enforce strong password policies, use MFA, and implement rate limiting or account lockouts to deter brute-force attacks.
    *   **Secure Configuration:** Ensure services are configured securely and patched. (While not explicitly exploited here, the version numbers are listed, which an attacker would check for known vulnerabilities).
    *   **Network Segmentation:** The GW machine is in a DMZ-like position. Proper segmentation can limit the blast radius if it's compromised.

In essence, I've glimpse into the attacker's mindset and techniques, which is invaluable for understanding how to better defend systems and networks.